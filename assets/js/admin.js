jQuery(document).ready((function(o){o(".logofly-upload").click((function(t){t.preventDefault();var l=wp.media({title:"Select Logo",button:{text:"Use This Image"},multiple:!1});l.on("select",(function(){var t=l.state().get("selection").first().toJSON();o(".logofly-logo-url").val(t.url),o(".logofly-preview").html('<img src="'+t.url+'" style="max-width:100%;height:auto;">')})),l.open()}));var t=null;function l(){var t=o('input[name="logofly_options[logo_width]"]').val(),l=o('input[name="logofly_options[logo_height]"]').val();o(".logofly-preview img").css({width:t+"px",height:l+"px"})}o('input[name="logofly_options[logo_width]"], input[name="logofly_options[logo_height]"]').on("input",(function(){var i=o('input[name="logofly_options[logo_width]"]'),n=o('input[name="logofly_options[logo_height]"]');o('input[name="logofly_options[lock_aspect]"]').is(":checked")&&(!t&&i.val()&&n.val()&&(t=i.val()/n.val()),"logofly_options[logo_width]"===o(this).attr("name")&&t?n.val(Math.round(i.val()/t)):t&&i.val(Math.round(n.val()*t))),l()})),o(".logofly-preview img").on("load",(function(){o('input[name="logofly_options[logo_width]"]').val()||(t=this.naturalWidth/this.naturalHeight,o('input[name="logofly_options[logo_width]"]').val(this.naturalWidth),o('input[name="logofly_options[logo_height]"]').val(this.naturalHeight),l())}))}));